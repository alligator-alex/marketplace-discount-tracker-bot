# Telegram бот для отслеживания скидок и наличия на маркетплейсах

Позволяет вам отслеживать скидки на желаемые товары, а также повторное появление в продаже.

### На данный момент поддерживаются следующие маркетплейсы:
- [Ozon](https://www.ozon.ru/)
- [Wildberries](https://www.wildberries.ru/)

---

### Развёртывание

1. Создайте Telegram бот используя [@BotFather](https://t.me/BotFather).

2. Добавьте список команд в бот:  
   ```
   trackproduct - следить за ценой товара
   listproducts - список отслеживаемых товаров
   cancel - отмена текущего действия
   help - помощь
   ```

3. Скопируйте файл `.env.example` и переименуйте его в `.env`.

4. Возьмите токен из *BotFather* и вставьте его как переменную `TELEGRAM_BOT_TOKEN` в только что созданном файле `.env`.

5. Запустите приложение в Docker
   - Для первого запуска выполните команду `make prepare-and-up`
   - Для повседневного использования выполните команду `make up`

6. Добавьте вашего бота из шага 1 в свои контакты в Telegram, а затем просто пользуйтесь командами из пункта 2.

---

### Использование

Для начала вам нужно добавить товар в бот.  
Введите команду `/trackproduct`, а затем отправьте URL на желаемый товар, чтобы сохранить его.

Бот будет автоматически проверять все ваши сохранённые URLы каждые 60 минут в фоновом режиме (интервал можно изменить в .env-файле).  
Если цена на товар снизилась или он снова появился в продаже, бот отправит вам соответствующее сообщение.

Чтобы посмотреть список отслеживаемых вами товаров, используйте команду `/listproducts`.  
Если результатов больше 5, будет показана постраничная навигация.  
Пока вы в списке, также можете удалить ненужный товар, нажав на ссылку вида `/del_abCdEF1`.

Для отмены любого действия используйте команду `/cancel`.  
**Но вы не можете отменить фоновый процесс проверки цены/наличия**.
